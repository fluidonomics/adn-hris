<!-- List of Kra's -->
<div class="m-content" *ngIf="!param_id">
	<div class="m-portlet m-portlet--tabs m-portlet--warning m-portlet--head-solid-bg m-portlet--head-sm">
		<div class="m-portlet__head">
			<div class="m-portlet__head-caption">
				<div class="m-portlet__head-title">
					<h3 class="m-portlet__head-text">
						<i class="fa fa-check"></i>
						My KRAs
						<small>
						</small>
					</h3>
				</div>
			</div>
		</div>
		<div class="m-portlet__body">
			<div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
				<div class="row align-items-center">
					<div class="col-xl-8 order-2 order-xl-1">
						<div class="form-group m-form__group row align-items-center">
							<div class="col-md-4">
								<div class="m-input-icon m-input-icon--left">
									<input type="text" class="form-control m-input m-input--solid" placeholder="Search..." [(ngModel)]="search">
									<span class="m-input-icon__icon m-input-icon__icon--left">
										<span>
											<i class="la la-search"></i>
										</span>
									</span>
								</div>
							</div>
						</div>
					</div>
					<!-- <div class="col-xl-4 order-2 order-xl-1">
																																								<div class="pull-right m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push"  [class.m-dropdown--open]="mouseOvered" (mouseout)="mouseOvered=false" (mouseover)="mouseOvered=true">
																																																<span class="m-portlet__nav-link btn btn-lg btn-secondary  m-btn m-btn--outline-2x m-btn--air m-btn--icon m-btn--icon-only m-btn--pill  m-dropdown__toggle">
																																																								<i class="la la-plus m--hide"></i>
																																																								<i class="la la-ellipsis-h"></i>
																																																</span>
																																																<div class="m-dropdown__wrapper">
																																																								<span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust" style="left: auto; right: 21.5px;"></span>
																																																								<div class="m-dropdown__inner">
																																																												<div class="m-dropdown__body">
																																																																<div class="m-dropdown__content">
																																																																				<ul class="m-nav">
																																																																								<li class="m-nav__item">
																																																																												<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																<i class="m-nav__link-icon fa fa-exclamation-triangle m--font-danger"></i>
																																																																																<span class="m-nav__link-text">
																																																																																				Inactive
																																																																																</span>
																																																																												</a>
																																																																								</li>
																																																																								<li class="m-nav__item">
																																																																												<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																<i class="m-nav__link-icon fa fa-circle-o m--font-warning"></i>
																																																																																<span class="m-nav__link-text">
																																																																																				Personal Profile Incomplete
																																																																																</span>
																																																																												</a>
																																																																								</li>
																																																																								<li class="m-nav__item">
																																																																																<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																				<i class="m-nav__link-icon fa fa-circle-o m--font-success"></i>
																																																																																				<span class="m-nav__link-text">
																																																																																								Personal Profile Submitted
																																																																																				</span>
																																																																																</a>
																																																																								</li>
																																																																								<li class="m-nav__item">
																																																																																<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																				<i class="m-nav__link-icon fa fa-circle-o m--font-danger"></i>
																																																																																				<span class="m-nav__link-text">
																																																																																								Personal Profile Sent Back
																																																																																				</span>
																																																																																</a>
																																																																								</li>
																																																																								<li class="m-nav__item">
																																																																																<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																				<i class="m-nav__link-icon fa fa-adjust m--font-success"></i>
																																																																																				<span class="m-nav__link-text">
																																																																																								Office Profile Submitted
																																																																																				</span>
																																																																																</a>
																																																																								</li>
																																																																								<li class="m-nav__item">
																																																																																<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																				<i class="m-nav__link-icon fa fa-adjust m--font-danger"></i>
																																																																																				<span class="m-nav__link-text">
																																																																																								Office Profile Sent Back
																																																																																				</span>
																																																																																</a>
																																																																								</li>
																																																																								<li class="m-nav__item">
																																																																																<a class="m-nav__link" href="" ng-reflect-href="">
																																																																																				<i class="m-nav__link-icon fa fa-circle m--font-success"></i>
																																																																																				<span class="m-nav__link-text">
																																																																																								Profile Completed
																																																																																				</span>
																																																																																</a>
																																																																								</li>
																																																																				</ul>
																																																																</div>
																																																												</div>
																																																								</div>
																																																</div>
																																								</div>
																																				</div> -->
				</div>
			</div>
			<div class="m-datatable m-datatable--default m-datatable--brand m-datatable--loaded" [ngClass]="{'m-datatable--error': (kraWorkFlowData | orderBy: key : reverse | filter:search)?.length==0 }">
				<table class="m-datatable__table">
					<thead class="m-datatable__head">
						<tr class="m-datatable__row">
							<!-- <th class="m-datatable__cell" width="5%" ></th> -->
							<th (click)="sort('batchName')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									TITLE
									<i class="la" *ngIf="key == 'batchName'" [ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('createdAt')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									INITIATED ON
									<i class="la" *ngIf="key == 'createdAt'" [ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('createdBy')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									INITIATED BY
									<i class="la" *ngIf="key == 'createdBy'" [ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('batchEndDate')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									LAST DATE
									<i class="la" *ngIf="key == 'batchEndDate'" [ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('status')" class="m-datatable__cell m-datatable__cell--sort" width="10%">
								<span>
									STATUS
									<i class="la" *ngIf="key == 'status'" [ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th class="m-datatable__cell m-datatable__cell--sort" width="10%">
								<span>
									ACTIONS
									<i class="la" *ngIf="key == 'actions'" [ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
						</tr>
					</thead>
					<tbody class="m-datatable__body">
						<tr class="m-datatable__row" [ngClass]="{'m-datatable__row--even':!even}" *ngFor="let kraworkflow of kraWorkFlowData | orderBy: key : reverse | filter:search  | paginate: { itemsPerPage: itemPerPage, currentPage: p2 };let even=even;">
							<!-- <td class="m-datatable__cell" width="3%" >
																																												<span class="m-widget4__icon">
																																																<i class="fa fa-circle m--font-success"></i>
																																												</span>
																																								</td> -->
							<td class="m-datatable__cell" width="20%">
								<span>{{kraworkflow.batchName}}</span>
							</td>
							<td class="m-datatable__cell" width="20%">
								<span>{{kraworkflow.createdAt | date:"dd-MMM-yyyy hh:mm"}}</span>
							</td>
							<td class="m-datatable__cell" width="20%">
								<span>{{kraworkflow.createdBy}}</span>
							</td>
							<td class="m-datatable__cell" width="20%">
								<span>{{kraworkflow.batchEndDate | date:"dd-MMM-yyyy hh:mm"}}</span>
							</td>
							<td class="m-datatable__cell" width="10%">

								<span style="width: 100px;">
									<span class="m-badge  m-badge--success m-badge--wide" [ngClass]="{'m-badge--warning':kraworkflow.status=='Initiated','m-badge--brand':kraworkflow.status=='Submitted','m-badge--danger':kraworkflow.status=='SendBack','m-badge--success':kraworkflow.status=='Approved','m-badge--secondary':kraworkflow.status=='Terminated'}">{{kraworkflow.status}}</span>
								</span>
							</td>
							<td class="m-datatable__cell" width="15%">
								<a routerLink="/my/workflows/kra" [queryParams]="{ id: kraworkflow._id}" class="m-portlet__nav-link btn m-btn m-btn--hover-success m-btn--icon m-btn--icon-only m-btn--pill">
									<i class="la" [ngClass]="kraworkflow.status=='Initiated' || kraworkflow.status=='SendBack' ? 'la-edit':'la-eye'"></i>
								</a>
							</td>
						</tr>
						<span *ngIf="(kraWorkFlowData | orderBy: key : reverse | filter:search)?.length==0" class="m-datatable--error">No
							records found</span>
					</tbody>
				</table>
				<pagination-template #p="paginationApi" (pageChange)="p2 = $event" class="paginationtemplate">
					<div class="m-datatable__pager m-datatable--paging-loaded clearfix">
						<ul class="m-datatable__pager-nav" *ngIf="p.pages.length > 0">
							<li>
								<span class="m-datatable__pager-link m-datatable__pager-link--first" [class.m-datatable__pager-link--disabled]="p.isFirstPage()"
								 (click)="p.setCurrent(1)">
									<i class="la la-angle-double-left"></i>
								</span>
							</li>
							<li>
								<span class="m-datatable__pager-link m-datatable__pager-link--prev" [class.m-datatable__pager-link--disabled]="p.isFirstPage()"
								 (click)="p.previous()">
									<i class="la la-angle-left"></i>
								</span>
							</li>
							<li *ngFor="let page of p.pages">
								<span (click)="p.setCurrent(page.value)" class="m-datatable__pager-link m-datatable__pager-link-number "
								 [class.m-datatable__pager-link--active]="p.getCurrent() === page.value">
									{{ page.label }}
								</span>
							</li>
							<li>
								<span class="m-datatable__pager-link m-datatable__pager-link--next" [class.m-datatable__pager-link--disabled]="p.isLastPage()"
								 (click)="p.next()">
									<i class="la la-angle-right"></i>
								</span>
							</li>
							<li>
								<span title="Last" class="m-datatable__pager-link m-datatable__pager-link--last"
								 [class.m-datatable__pager-link--disabled]="p.isLastPage()" (click)="p.setCurrent(p.pages.length + 1)">
									<i class="la la-angle-double-right"></i>
								</span>
							</li>
						</ul>
					</div>
				</pagination-template>
				<div class="pager-display-size" *ngIf="(kraWorkFlowData | orderBy: key : reverse | filter:search)?.length!=0">
					<select [(ngModel)]="itemPerPage" class="m-datatable__pager-size" title="Select page size" data-width="70px"
					 data-selected="50" tabindex="1">
						<option value=10>10</option>
						<option value=20>20</option>
						<option value=30>30</option>
						<option value=50>50</option>
						<option value=100>100</option>
					</select>
					<span class="pager-display-title"> Displaying {{this.itemPerPage * (this.p2 - 1) + 1 > 1 ? this.itemPerPage *
						(this.p2 - 1) + 1:1}} - {{(this.itemPerPage
						* (this.p2 - 1) + 1) + this.itemPerPage - 1 > (kraWorkFlowData | orderBy: key : reverse | filter:search)?.length
						?
						(kraWorkFlowData | orderBy: key : reverse | filter:search)?.length : (this.itemPerPage * (this.p2 - 1) + 1) +
						this.itemPerPage
						- 1 }} of {{(kraWorkFlowData | orderBy: key : reverse | filter:search)?.length}}
					</span>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Individual Kra Details -->
<div class="m-content" *ngIf="param_id">
	<div class="row">
		<div class="col-md-12">
			<div class="m-portlet m-portlet--tabs m-portlet--success m-portlet--head-solid-bg m-portlet--head-sm">
				<div class="m-portlet__head">
					<div class="m-portlet__head-caption">
						<div class="m-portlet__head-title">
							<h3 class="m-portlet__head-text">
								{{isChangable ?'My KRA' :'Submit KRA' }}
								<small>
								</small>
							</h3>
						</div>
					</div>
					<div class="m-portlet__head-tools">
						<ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand  m-tabs-line--right m-tabs-line-danger" role="tablist">
							<li class="nav-item m-tabs__item" *ngIf="!isChangable">
								<button type="button" class="btn m-btn--pill pulldown btn-secondary" (click)="submitKraWorkFlow(fkraInfo.form.dirty)">Submit</button>
							</li>
							<li class="nav-item m-tabs__item">
								<!-- <a class="nav-link m-tabs__link" (click)="window.print();">
																								<i class="la la-print"></i>
																								Print
																								</a> -->
							</li>
						</ul>
					</div>
				</div>
				<div class="m-portlet__body">
					<div class="m-section">
						<div class="m-section__content">
							<form #fkraInfo="ngForm" novalidate="novalidate">

								<div class="table-responsive">
									<table class="table table-bordered table-hover" #print_div>
										<thead>
											<tr>
												<th>
													#
												</th>
												<!-- <th>
													KRA
												</th> -->
												<th>
													KRA Category
												</th>
												<th>
													Weightage
												</th>
												<!-- <th>
													Unit of Success
												</th>
												<th>
													Measure of Success
												</th> -->
												<th>
													Supervisor
												</th>
												<th>
													Supervisor Remarks
												</th>
												<th>
													Action
												</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngFor="let kraInfo of kraInfoData;let i=index" [ngClass]="{'sendBack':kraInfoData[i].supervisorStatus=='SendBack','approved':kraInfoData[i].supervisorStatus =='Approved'}"
											 ngModelGroup="controlRow{{i}}" #controlRow="ngModelGroup">
												<th scope="row">
													{{i+1}}
												</th>
												<td>
													<ng-select class="m-input m-input--air customError" name="kraCategory{{i}}" id="kraCategory" [items]="kraCategoryData"
													 bindLabel="kraCategoryName" bindValue="_id" placeholder="Select KRA Category" [(ngModel)]="kraInfo.category_id"
													 [clearable]="false" #kraCategory="ngModel" required disabled></ng-select>
												</td>
												<td>
													<ng-select class="m-input m-input--air customError" name="kraWeightage{{i}}" id="kraWeightage" [items]="weightageData"
													 bindLabel="kraWeightageName" bindValue="_id" placeholder="Weightage" [(ngModel)]="kraInfo.weightage_id"
													 [clearable]="false" #kraWeightage="ngModel" required disabled></ng-select>
												</td>

												<td>
													<ng-select class="m-input m-input--air customError" name="supervisor{{i}}" id="supervisor" [items]="supervisorData"
													 bindLabel="fullName" bindValue="_id" placeholder="Select Supervisor" [(ngModel)]="kraInfo.supervisor_id"
													 [clearable]="false" #supervisorOne="ngModel" required disabled></ng-select>
												</td>
												<td>
													<textarea name="sendBackComment{{i}}" id="sendBackComment" #sendBackComment="ngModel" [(ngModel)]="kraInfo.sendBackComment"
													 class="form-control m-input m-input--air" disabled></textarea>
												</td>
												<td>
													<!-- (isDisabled || kraInfo.supervisorStatus=='Approved') &&  -->
													<button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill"
													 title="Edit" (click)="showKRADetails(i)">
														<i class="la la-info"></i>
													</button>
													<button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill"
													 title="Delete" *ngIf="kraInfo.supervisorStatus!='Approved' && kraInfo.supervisorStatus!=null" (click)="deleteKraHtml(i)">
														<i class="la la-remove"></i>
													</button>

													<!-- <button *ngIf="kraInfo.supervisorStatus!='Approved' "  type="button" (click)="saveKraDetails(i)" class="btn btn-success m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill m-btn--air" [disabled]="isDisabled || kraInfo.supervisorStatus=='Approved'"> <i class="fa fa-save"></i></button>
																																															<button *ngIf="kraInfo.supervisorStatus!='Approved'" type="button" (click)="deleteKraHtml(i)" class="btn btn-success m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill m-btn--air" [disabled]="isDisabled || kraInfo.supervisorStatus=='Approved' "> <i class="fa fa-remove"></i></button> -->
												</td>
											</tr>
											<tr *ngIf="!isChangable">
												<td colspan="9">
													<button class="btn btn-success m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill m-btn--air pull-right"
													 [attr.disabled]="kraInfoData[kraInfoData.length-1]?._id && !isChangable ? null :'disabled'" (click)="addKraHtml()">
														<i class="la la-plus "></i>
													</button>
												</td>
											</tr>
										</tbody>
									</table>
								</div>
							</form>
						</div>
						<div class="row m-portlet__body m-portlet m-portlet--tabs  m-portlet--head-solid-bg m-portlet--bordered" *ngIf="isKraAvaliable">
							<div class="tab-content">
								<div class="m-widget3">
									<div class="m-widget3__item">
										<div class="m-widget3__header">
											<div class="m-widget3__user-img">
												<img class="m-widget3__img" src="./assets/app/media/img/users/user6.jpg" alt="">
											</div>
											<div class="m-widget3__info">
												<span class="m-widget3__username" id="hrName">
													Test HR
												</span>
												<br>
												<span class="m-widget3__time" id="dateTime">
													2 day ago
												</span>
											</div>
											<span class="m-badge m-badge--success m-badge--wide" id="kraStatus">
												accepted
											</span>
										</div>
										<div class="m-widget3__body">
											<p class="m-widget3__text m--font-success" id="kraTimeline">
												Your KRA has been Accepted.
											</p>
										</div>
									</div>
									<div class="m-widget3__item">
										<div class="m-widget3__header">
											<div class="m-widget3__user-img">
												<img class="m-widget3__img" src="./assets/app/media/img/users/user6.jpg" alt="">
											</div>
											<div class="m-widget3__info">
												<span class="m-widget3__username" id="supervisorName">
													Test Supervisor
												</span>
												<br>
												<span class="m-widget3__time">
													1 weeks ago
												</span>
											</div>
											<span class="m-badge m-badge--info m-badge--wide">
												initiated
											</span>
										</div>
										<div class="m-widget3__body">
											<p class="m-widget3__text m--font-info">
												Your KRA has been Initiated.
											</p>
										</div>
									</div>
									<div class="m-widget3__item">
										<div class="m-widget3__header">
											<div class="m-widget3__user-img">
												<img class="m-widget3__img" src="./assets/app/media/img/users/user6.jpg" alt="">
											</div>
											<div class="m-widget3__info">
												<span class="m-widget3__username" id="hrName">
													Test HR
												</span>
												<br>
												<span class="m-widget3__time">
													2 weeks ago
												</span>
											</div>
											<span class="m-badge m-badge--danger m-badge--wide">
												rejected
											</span>
										</div>
										<div class="m-widget3__body">
											<p class="m-widget3__text m--font-danger">
												Your KRA has been rejected.
											</p>
										</div>
									</div>
									<div class="m-widget3__item">
										<div class="m-widget3__header">
											<div class="m-widget3__user-img">
												<img class="m-widget3__img" src="./assets/app/media/img/users/user6.jpg" alt="">
											</div>
											<div class="m-widget3__info">
												<span class="m-widget3__username" id="supervisorName">
													Test Supervisor
												</span>
												<br>
												<span class="m-widget3__time">
													3 weeks ago
												</span>
											</div>
											<span class="m-badge m-badge--info m-badge--wide">
												initiated
											</span>
										</div>
										<div class="m-widget3__body">
											<p class="m-widget3__text m--font-info">
												Your KRA has been Initiated.
											</p>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Kra Detail Modal -->
<ng-template #kraDetailModal>
	<div class="m-portlet m-portlet--warning m-portlet--head-solid-bg m-portlet--head-sm  m-portlet--full-height kraDetailsPortlet">
		<div class="m-portlet__head">
			<div class="m-portlet__head-caption">
				<div class="m-portlet__head-title">
					<h3 class="m-portlet__head-text">
						Key Responsibility Area
					</h3>
				</div>
			</div>
			<div class="m-portlet__head-tools">
				<ul class="m-portlet__nav">
					<li class="m-portlet__nav-item">
						<div class="btn-group" role="group" aria-label="Button group with nested dropdown">
							<div class="btn-group" role="group">
								<button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>

		<div class="m-portlet__body">
			<form class="m-form m-form--fit m-form--label-align-right" (ngSubmit)="saveKRADetails(KRADataForm,kraData._id)" id="KRADataForm"
			 #KRADataForm="ngForm">
				<div class="m-widget6 ">
					<div class="row">
						<div class="col-md-6">
							<span>KRA No. {{kraData.no}}</span>
						</div>
						<div class="col-md-2 ">
							KRA Category
						</div>
						<div class="col-md-4">
							<ng-select class="m-input m-input--air" name="kraCategorydata" id="kraCategorydata" [items]="kraCategoryData"
							 bindLabel="kraCategoryName" bindValue="_id" placeholder="Select KRA Category" [(ngModel)]="kraData.category_id"
							 [clearable]="false" #kraCategory="ngModel" [disabled]="isDisabled" required></ng-select>
							<div class="form-control-feedback has-danger" *ngIf="KRADataForm.submitted && !kraCategory.valid">
								This field is required.
							</div>
						</div>
					</div>
					<div class="row details">
						<div class="col-md-2">
							KRA Weightage
						</div>
						<div class="col-md-4">
							<ng-select class="m-input m-input--air" name="kraWeightagedata" id="kraWeightagedata" [items]="weightageData"
							 bindLabel="kraWeightageName" bindValue="_id" placeholder="Weightage" [(ngModel)]="kraData.weightage_id"
							 [clearable]="false" #kraWeightage="ngModel" [disabled]="isDisabled" required></ng-select>
							<div class="form-control-feedback has-danger" *ngIf="KRADataForm.submitted && !kraWeightage.valid">
								This field is required.
							</div>
						</div>
						<div class="col-md-2">
							supervisor
						</div>
						<div class="col-md-4">
							<ng-select class="m-input m-input--air " name="supervisordata" id="supervisordata" [items]="supervisorData"
							 bindLabel="fullName" bindValue="_id" placeholder="Select Supervisor" [(ngModel)]="kraData.supervisor_id"
							 [clearable]="false" #supervisorOne="ngModel" [disabled]="isDisabled" required></ng-select>
							<div class="form-control-feedback has-danger" *ngIf="KRADataForm.submitted && !supervisorOne.valid">
								This field is required.
							</div>
						</div>
						<div class="col-md-12 details">
							<span>KRA</span>
							<textarea name="kraOnedata" id="kraOnedata" [(ngModel)]="kraData.kra" #kra="ngModel" class="form-control m-input m-input--air"
							 [disabled]="isDisabled" required></textarea>
							<div class="form-control-feedback has-danger" *ngIf="KRADataForm.submitted && !kra.valid">
								This field is required.
							</div>
						</div>
						<div class="col-md-6 details">
							<span>Unit of Success</span>
							<textarea name="unitOfSuccessdata" id="unitOfSuccessdata" [(ngModel)]="kraData.unitOfSuccess" #unitOfSuccess="ngModel"
							 class="form-control m-input m-input--air" [disabled]="isDisabled" required></textarea>
							<div class="form-control-feedback has-danger" *ngIf="KRADataForm.submitted && !unitOfSuccess.valid">
								This field is required.
							</div>
						</div>
						<div class="col-md-6 details">
							<span>Measure of Success</span>
							<textarea name="measureOfSuccessdata" id="measureOfSuccessdata" [(ngModel)]="kraData.measureOfSuccess"
							 #measureOfSuccess="ngModel" class="form-control m-input m-input--air" [disabled]="isDisabled" required></textarea>
							<div class="form-control-feedback has-danger" *ngIf="KRADataForm.submitted && !measureOfSuccess.valid">
								This field is required.
							</div>
						</div>
						<div class="col-md-12 details" *ngIf="kraData.sendBackComment">
							<span>Supervisor Remarks</span>
							<textarea name="supervisorRemarks" id="supervisorRemarks" [(ngModel)]="kraData.sendBackComment"
							 #supervisorRemarks="ngModel" class="form-control m-input m-input--air" [disabled]="isDisabled" required></textarea>
						</div>
					</div>
					<div class="form-actions details">
						<div class="row">
							<div class="col-md-12">
								<div class="m-form__actions">
									<!-- <button 
									class="btn btn-success" (click)="saveKRADetails(kraData._id)">Save</button>    -->
									<button *ngIf="!isDisabled" class="btn btn-success submitForm" type="submit" id="submitForm">Save</button>
									<button class="btn btn-secondary" type="button" (click)="modalRef.hide()">Close</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>

	</div>
</ng-template>