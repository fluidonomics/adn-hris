<div class="m-content" *ngIf="!param_id">
	<div class="m-portlet m-portlet--tabs m-portlet--warning m-portlet--head-solid-bg m-portlet--head-sm">
		<div class="m-portlet__head">
			<div class="m-portlet__head-caption">
				<div class="m-portlet__head-title">
					<h3 class="m-portlet__head-text">
						<i class="fa fa-check"></i> My PIP Process
						<small>
						</small>
					</h3>
				</div>
			</div>
		</div>
		<div class="m-portlet__body">
			<div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
				<div class="row align-items-center">
					<div class="col-xl-12 order-2 order-xl-1">
						<div class="form-group m-form__group row align-items-center instructions">
						</div>
					</div>
				</div>
			</div>
			<div class="m-form m-form--label-align-right m--margin-top-20 m--margin-bottom-30">
				<div class="row align-items-center">
					<div class="col-xl-8 order-2 order-xl-1">
						<div class="form-group m-form__group row align-items-center">
							<div class="col-md-4">
								<div class="m-input-icon m-input-icon--left">
									<input type="text" class="form-control m-input m-input--solid" placeholder="Search..."
										[(ngModel)]="search">
									<span class="m-input-icon__icon m-input-icon__icon--left">
										<span>
											<i class="la la-search"></i>
										</span>
									</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="m-datatable m-datatable--default m-datatable--brand m-datatable--loaded"
				[ngClass]="{'m-datatable--error': (PipAgendaData | orderBy: key : reverse | filter:search)?.length==0 }">
				<table class="m-datatable__table">
					<thead class="m-datatable__head">
						<tr class="m-datatable__row">
							<th (click)="sort('batchName')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									TITLE
									<i class="la" *ngIf="key == 'batchName'"
										[ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('createdAt')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									INITIATED ON
									<i class="la" *ngIf="key == 'createdAt'"
										[ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('createdBy')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									INITIATED BY
									<i class="la" *ngIf="key == 'createdBy'"
										[ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('batchEndDate')" class="m-datatable__cell m-datatable__cell--sort" width="20%">
								<span>
									LAST DATE
									<i class="la" *ngIf="key == 'batchEndDate'"
										[ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th (click)="sort('status')" class="m-datatable__cell m-datatable__cell--sort" width="10%">
								<span>
									STATUS
									<i class="la" *ngIf="key == 'status'"
										[ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
							<th class="m-datatable__cell m-datatable__cell--sort" width="10%">
								<span>
									ACTIONS
									<i class="la" *ngIf="key == 'actions'"
										[ngClass]="{'la-arrow-up':reverse,'la-arrow-down':!reverse}"></i>
								</span>
							</th>
						</tr>
					</thead>
					<tbody class="m-datatable__body">
						<tr class="m-datatable__row" [ngClass]="{'m-datatable__row--even':!even}"
							*ngFor="let pip of PipAgendaData; let i=index">
							<td class="m-datatable__cell" width="20%">
								<span>{{pip.pip_batch_name}}</span>
							</td>
							<td class="m-datatable__cell" width="20%">
								<span>{{pip.createdAt | date:"dd-MMM-yyyy hh:mm"}}</span>
							</td>
							<td class="m-datatable__cell" width="20%">
								<span>{{pip.createdByName}}</span>
							</td>
							<td class="m-datatable__cell" width="20%">
								<span>{{pip.batchEndDate | date:"dd-MMM-yyyy hh:mm"}}</span>
							</td>
							<td class="m-datatable__cell" width="10%">
								<span style="width: 100px;">
									<span class="m-badge  m-badge--success m-badge--wide"
										[ngClass]="{'m-badge--warning':pip.status=='Initiated','m-badge--brand':pip.status=='Submitted','m-badge--danger':pip.status=='SendBack','m-badge--success':pip.status=='Approved','m-badge--secondary':pip.status=='Terminated','m-badge--accent':pip.status=='Completed'}">{{pip.status}}</span>
								</span>
							</td>
							<td class="m-datatable__cell" width="15%">
								<a routerLink="/my/workflows/pip" [queryParams]="{ id: pip._id}"
									class="m-portlet__nav-link btn m-btn m-btn--hover-success m-btn--icon m-btn--icon-only m-btn--pill">
									<i class="la" [ngClass]="pipData.status=='Initiated' || pipData.status=='SendBack' ? 'la-edit':'la-eye'"></i>
								</a>
								<!-- <button type="button" class="m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill"
									title="Post PIP Process" (click)="showCompletionDetails(i)" *ngIf="pip.status=='Completed' || pip.status=='PIP Completed' || pip.status=='Extended'">
									<i class="la la-info"></i>
								</button> -->
							</td>
						</tr>
						<span *ngIf="(PipAgendaData | filter:search)?.length==0" class="m-datatable--error">No
							records found</span>
					</tbody>
				</table>
				<pagination-template #p="paginationApi" (pageChange)="p2 = $event" class="paginationtemplate">
					<div class="m-datatable__pager m-datatable--paging-loaded clearfix">
						<ul class="m-datatable__pager-nav" *ngIf="p.pages.length > 0">
							<li>
								<span class="m-datatable__pager-link m-datatable__pager-link--first"
									[class.m-datatable__pager-link--disabled]="p.isFirstPage()" (click)="p.setCurrent(1)">
									<i class="la la-angle-double-left"></i>
								</span>
							</li>
							<li>
								<span class="m-datatable__pager-link m-datatable__pager-link--prev"
									[class.m-datatable__pager-link--disabled]="p.isFirstPage()" (click)="p.previous()">
									<i class="la la-angle-left"></i>
								</span>
							</li>
							<li *ngFor="let page of p.pages">
								<span (click)="p.setCurrent(page.value)"
									class="m-datatable__pager-link m-datatable__pager-link-number "
									[class.m-datatable__pager-link--active]="p.getCurrent() === page.value">
									{{ page.label }}
								</span>
							</li>
							<li>
								<span class="m-datatable__pager-link m-datatable__pager-link--next"
									[class.m-datatable__pager-link--disabled]="p.isLastPage()" (click)="p.next()">
									<i class="la la-angle-right"></i>
								</span>
							</li>
							<li>
								<span title="Last" class="m-datatable__pager-link m-datatable__pager-link--last"
									[class.m-datatable__pager-link--disabled]="p.isLastPage()"
									(click)="p.setCurrent(p.pages.length + 1)">
									<i class="la la-angle-double-right"></i>
								</span>
							</li>
						</ul>
					</div>
				</pagination-template>
				<div class="pager-display-size" *ngIf="(PipAgendaData | orderBy: key : reverse | filter:search)?.length!=0">
					<select [(ngModel)]="itemPerPage" class="m-datatable__pager-size" title="Select page size"
						data-width="70px" data-selected="50" tabindex="1">
						<option value=10>10</option>
						<option value=20>20</option>
						<option value=30>30</option>
						<option value=50>50</option>
						<option value=100>100</option>
					</select>
					<span class="pager-display-title"> Displaying {{this.itemPerPage * (this.p2 - 1) + 1 > 1 ? this.itemPerPage *
						(this.p2 - 1) + 1:1}} - {{(this.itemPerPage
						* (this.p2 - 1) + 1) + this.itemPerPage - 1 > (PipAgendaData | orderBy: key : reverse |
						filter:search)?.length
						?
						(PipAgendaData | orderBy: key : reverse | filter:search)?.length : (this.itemPerPage * (this.p2 - 1) + 1) +
						this.itemPerPage
						- 1 }} of {{(PipAgendaData | orderBy: key : reverse | filter:search)?.length}}
					</span>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="m-content" *ngIf="param_id">
	<div class="row">
		<div class="col-md-12">
			<div class="m-portlet m-portlet--tabs m-portlet--success m-portlet--head-solid-bg m-portlet--head-sm">
				<div class="m-portlet__head">
					<div class="m-portlet__head-caption">
						<div class="m-portlet__head-title">
							<h3 class="m-portlet__head-text">
								PIP Key Responsibility Areas [KRAs]
								<small>
								</small>
							</h3>
						</div>
					</div>
					<div class="m-portlet__head-tools">
						<ul class="nav nav-tabs m-tabs m-tabs-line m-tabs-line--brand  m-tabs-line--right m-tabs-line-danger"
							role="tablist">
							<li class="nav-item m-tabs__item">
								<button type="button" class="btn m-btn--pill pulldown btn-secondary"
									(click)="submitPipAgenda(fpipInfo.form.dirty)" *ngIf="showSub">Submit</button>
							</li>
							<li class="nav-item m-tabs__item">
							</li>
						</ul>
					</div>
				</div>
				<div class="m-portlet__body">
					<div class="m-section">
						<div class="m-section__content">
							<form #fpipInfo="ngForm" novalidate="novalidate">
								<div class="table-responsive">
									<table class="table table-bordered table-hover" #print_div>
										<thead>
											<tr>
												<th>
													#
												</th>

												<th>
													Areas of Improvement with Metrics for Measurement
												</th>
												<th>
													Action Plan
												</th>
												<th>
													Measure of Success
												</th>
												<th>
													Status
												</th>

												<th>
													Action
												</th>
											</tr>
										</thead>
										<tbody>
											<tr *ngFor="let pipInfo of pipInfoData;let i=index"
												[ngClass]="{'dropped':pipInfoData[i].status =='Completed','sendBack':pipInfoData[i].status=='SendBack','approved':pipInfoData[i].status =='Approved'}"
												ngModelGroup="controlRow{{i}}" #controlRow="ngModelGroup">
												<th scope="row">
													{{i+1}}
												</th>
												<td>
													<textarea name="areaofImprovement{{i}}" id="areaofImprovement"
														#areaofImprovement="ngModel" [(ngModel)]="pipInfo.areaofImprovement"
														class="form-control m-input m-input--air" disabled></textarea>
												</td>
												<td>
													<textarea name="actionPlan{{i}}" id="actionPlan" #actionPlan="ngModel"
														[(ngModel)]="pipInfo.actionPlan" class="form-control m-input m-input--air"
														disabled></textarea>
												</td>
												<td>
													<textarea name="measureOfSuccess{{i}}" id="measureOfSuccess"
														#measureOfSuccess="ngModel" [(ngModel)]="pipInfo.measureOfSuccess"
														class="form-control m-input m-input--air" disabled></textarea>
												</td>
												<td>
													<textarea name="status{{i}}" id="status" #status="ngModel"
														[(ngModel)]="pipInfo.status" class="form-control m-input m-input--air"
														disabled></textarea>
												</td>

												<td>
													<!-- <button type="button"
														class="m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill"
														title="Edit" (click)="showPipDetails(i)">
														 view
													</button> -->
													<a (click)="showPipDetails(i)"
														class="m-portlet__nav-link btn m-btn m-btn--hover-success m-btn--icon m-btn--icon-only m-btn--pill">
														view
													</a>
												</td>
											</tr>
											<tr>
												<td colspan="9">
													<button
														class="btn btn-success m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill m-btn--air pull-right"
														(click)="addPipHtml()" *ngIf="showSub">
														<i class="la la-plus"></i>
													</button>
												</td>
											</tr>
											<tr>
												<td colspan="9" >
														<button  style="display: inline-block;" *ngIf="showPIPApprovalMessage || showPIPApprovalMessageButton"
														class="btn btn-success m-btn m-btn--wide m-btn--icon-only m-btn--custom m-btn--pill m-btn--air pull-right "
														(click)="showCompletionDetails()">
														Post PIP comment 
													</button>
													<p  *ngIf="showPIPApprovalMessage" class="pull-right" style="color: red; font-weight: bold; display: inline-block;">Please provide Post Pip comment --></p>
													
												</td>
											</tr>
										</tbody>
									</table>
								</div>
								<div></div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<ng-template #myPipDetailModal>
		<div
			class="m-portlet m-portlet--warning m-portlet--head-solid-bg m-portlet--head-sm  m-portlet--full-height mtrDetailsPortlet">
			<div class="m-portlet__head">
				<div class="m-portlet__head-caption">
					<div class="m-portlet__head-title">
						<h3 class="m-portlet__head-text">
							PIP KRA
						</h3>
					</div>
				</div>
				<div class="m-portlet__head-tools">
					<ul class="m-portlet__nav">
						<li class="m-portlet__nav-item">
							<div class="btn-group" role="group" aria-label="Button group with nested dropdown">
								<div class="btn-group" role="group">
									<button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
							</div>
						</li>
					</ul>
				</div>
			</div>
	
			<div class="m-portlet__body">
				<form class="m-form m-form--fit m-form--label-align-right" (ngSubmit)="savePipAgendas(PipDataForm,pipData._id)"
					id="PipDataForm" #PipDataForm="ngForm">
					<div class="m-widget6 ">
						<div class="row">
							<div class="col-md-6">
								<span><b>S No. {{pipData.no}}</b></span>
							</div>
	
						</div>
						<div class="row details">
							<div class="col-md-2">
								<span>Areas of Improvement with Metrics for Measurement</span>
							</div>
							<div class="col-md-10">
	
								<textarea name="areaofImprovement" id="areaofImprovement" [(ngModel)]="pipData.areaofImprovement"
									#areaofImprovement="ngModel" class="form-control m-input m-input--air" required
									[disabled]="isDisabled"></textarea>
	
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && areaofImprovement.invalid">
									This field is required.
								</div>
	
							</div>
	
							<div class="col-md-2 details">
								<span>Action Plan</span>
							</div>
							<div class="col-md-10 details">
	
								<textarea name="actionPlan" id="actionPlan" [(ngModel)]="pipData.actionPlan" #actionPlan="ngModel"
									class="form-control m-input m-input--air" required [disabled]="isDisabled"></textarea>
	
								<div class="form-control-feedback has-danger" *ngIf="PipDataForm.submitted && actionPlan.invalid">
									This field is required.
								</div>
	
							</div>
							<div class="col-md-6 details">
								<span>Supervisor</span>
								<ng-select class="m-input m-input--air customError" name="supervisordata{{i}}" id="supervisordata"
									[items]="supervisorData" bindLabel="fullName" bindValue="_id" placeholder="Select Supervisor"
									[(ngModel)]="pipData.supervisor_id" [clearable]="false" #supervisor="ngModel" required
									[disabled]="isDisabled"></ng-select>
								<div class="form-control-feedback has-danger" *ngIf="PipDataForm.submitted && supervisor.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 details">
								<span>Timelines</span>
								<ng-select class="m-input m-input--air customError" name="timelines{{i}}" id="timelines"
									[items]="timelinesData" bindLabel="timeline" bindValue="_id" placeholder="Select Timeline"
									[(ngModel)]="PipAgendaData[agenda_arraynum].timelines" [clearable]="false" #timelines="ngModel"
									required disabled></ng-select>
								<div class="form-control-feedback has-danger" *ngIf="PipDataForm.submitted && timelines.invalid">
									This field is required.
								</div>
							</div>
	
							<div class="col-md-6 details">
								<span>Employee Comment</span>
								<textarea name="employeeInitialComment" id="employeeInitialComment"
									[(ngModel)]="pipData.employeeInitialComment" #employeeInitialComment="ngModel"
									class="form-control m-input m-input--air" required [disabled]="isDisabled"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && employeeInitialComment.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 details">
								<span>Measure of Success</span>
								<textarea name="measureOfSuccess" id="measureOfSuccess" [(ngModel)]="pipData.measureOfSuccess"
									#measureOfSuccess="ngModel" class="form-control m-input m-input--air" [disabled]="isDisabled"
									required [disabled]="isDisabled"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && measureOfSuccess.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 details">
								<span>Status</span>
								<textarea name="status" id="status" [(ngModel)]="pipData.status" #status="ngModel"
									class="form-control m-input m-input--air" required disabled></textarea>
								<div class="form-control-feedback has-danger" *ngIf="PipDataForm.submitted && status.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 details" *ngIf="pipData.status != 'Initiated'">
								<span>Supervisor Remark</span>
								<textarea name="superviserInitialComment" id="superviserInitialComment"
									[(ngModel)]="pipData.superviserInitialComment" #superviserInitialComment="ngModel"
									class="form-control m-input m-input--air" disabled></textarea>
							</div>
							<div class="col-md-12 heading" *ngIf="pipData.empComment_month1 || isCommentOfMonth1Enable">
								<span><b>Month 1</b></span>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.empComment_month1 || isCommentOfMonth1Enable">
								<span>Employee Comments</span>
								<textarea name="empComment_month1" id="empComment_month1" [(ngModel)]="pipData.empComment_month1"
									#empComment_month1="ngModel" class="form-control m-input m-input--air"
									[disabled]="isDisabled && !isCommentOfMonth1Enable" [required]="isCommentOfMonth1Enable"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && empComment_month1.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.supComment_month1">
								<span>Supervisor Comments</span>
								<textarea name="supComment_month1" id="supComment_month1" [(ngModel)]="pipData.supComment_month1"
									#supComment_month1="ngModel" class="form-control m-input m-input--air" disabled
								></textarea>
							</div>
							<div class="col-md-12 heading" *ngIf="pipData.empComment_month2 || isCommentOfMonth2Enable">
								<span><b>Month 2</b></span>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.empComment_month2 || isCommentOfMonth2Enable">
								<span>Employee Comments</span>
								<textarea name="empComment_month2" id="empComment_month2" [(ngModel)]="pipData.empComment_month2"
									#empComment_month2="ngModel" class="form-control m-input m-input--air"
									[disabled]="isDisabled && !isCommentOfMonth2Enable" [required]="isCommentOfMonth2Enable"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && empComment_month2.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.supComment_month2">
								<span>Supervisor Comments</span>
								<textarea name="supComment_month2" id="supComment_month2" [(ngModel)]="pipData.supComment_month2"
									#supComment_month2="ngModel" class="form-control m-input m-input--air" disabled 
								></textarea>
							</div>
							<div class="col-md-12 heading" *ngIf="pipData.empComment_month3 || isCommentOfMonth3Enable">
								<span><b>Month 3</b></span>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.empComment_month3 || isCommentOfMonth3Enable">
								<span>Employee Comments</span>
								<textarea name="empComment_month3" id="empComment_month3" [(ngModel)]="pipData.empComment_month3"
									#empComment_month3="ngModel" class="form-control m-input m-input--air"
									[disabled]="isDisabled && !isCommentOfMonth3Enable" [required]="isCommentOfMonth3Enable"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && empComment_month3.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.supComment_month3">
								<span>Supervisor Comments</span>
								<textarea name="supComment_month3" id="supComment_month3" [(ngModel)]="pipData.supComment_month3"
									#supComment_month3="ngModel" class="form-control m-input m-input--air" disabled></textarea>
							</div>
							<div class="col-md-12 heading" *ngIf="(pipData.empComment_month4 || isCommentOfMonth4Enable) && pipData.master_timelines >= 4">
								<span><b>Month 4</b></span>
							</div>
							<div class="col-md-6 month" *ngIf="(pipData.empComment_month4 || isCommentOfMonth4Enable) && pipData.master_timelines === 6">
								<span>Employee Comments</span>
								<textarea name="empComment_month4" id="empComment_month4" [(ngModel)]="pipData.empComment_month4"
									#empComment_month4="ngModel" class="form-control m-input m-input--air"
									[disabled]="isDisabled && !isCommentOfMonth4Enable" [required]="isCommentOfMonth4Enable"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && empComment_month4.invalid">
									This field is required.
								</div>
							</div>
	
							<div class="col-md-6 month" *ngIf="pipData.supComment_month4 && pipData.master_timelines === 6">
								<span>Supervisor Comments</span>
								<textarea name="supComment_month4" id="supComment_month4" [(ngModel)]="pipData.supComment_month4"
									#supComment_month4="ngModel" class="form-control m-input m-input--air" disabled
								></textarea>
							</div>
							<div class="col-md-12 heading" *ngIf="(pipData.empComment_month5 || isCommentOfMonth5Enable) && pipData.master_timelines >= 5">
								<span><b>Month 5</b></span>
							</div>
							<div class="col-md-6 month" *ngIf="(pipData.empComment_month5 || isCommentOfMonth5Enable) && pipData.master_timelines === 6">
								<span>Employee Comments</span>
								<textarea name="empComment_month5" id="empComment_month5" [(ngModel)]="pipData.empComment_month5"
									#empComment_month5="ngModel" class="form-control m-input m-input--air"
									[disabled]="isDisabled && !isCommentOfMonth5Enable" [required]="isCommentOfMonth5Enable"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && empComment_month5.invalid">
									This field is required.
								</div>
							</div>
	
							<div class="col-md-6 month" *ngIf="pipData.supComment_month5 && pipData.master_timelines === 6">
								<span>Supervisor Comments</span>
								<textarea name="supComment_month5" id="supComment_month5" [(ngModel)]="pipData.supComment_month5"
									#supComment_month5="ngModel" class="form-control m-input m-input--air" disabled
								></textarea>
							</div>
							<div class="col-md-12 heading" *ngIf="(pipData.empComment_month6 || isCommentOfMonth6Enable) && pipData.master_timelines === 6">
								<span><b>Month 6</b></span>
							</div>
							<div class="col-md-6 month" *ngIf="(pipData.empComment_month6 || isCommentOfMonth6Enable) && pipData.master_timelines === 6">
								<span>Employee Comments</span>
								<textarea name="empComment_month6" id="empComment_month6" [(ngModel)]="pipData.empComment_month6"
									#empComment_month6="ngModel" class="form-control m-input m-input--air"
									[disabled]="isDisabled && !isCommentOfMonth6Enable" [required]="isCommentOfMonth6Enable"></textarea>
								<div class="form-control-feedback has-danger"
									*ngIf="PipDataForm.submitted && empComment_month6.invalid">
									This field is required.
								</div>
							</div>
							<div class="col-md-6 month" *ngIf="pipData.supComment_month6 && pipData.master_timelines === 6">
								<span>Supervisor Comments</span>
								<textarea name="supComment_month6" id="supComment_month6" [(ngModel)]="pipData.supComment_month6"
									#supComment_month6="ngModel" class="form-control m-input m-input--air" disabled
								></textarea>
							</div>
						</div>
						<div class="form-actions details">
							<div class="row">
								<div class="col-md-12">
									<div class="m-form__actions">
										<button class="btn btn-success submitForm" type="submit" id="submitForm"
											*ngIf="saveEnable || isInitiated">Save</button>
										<button class="btn btn-secondary" type="button" (click)="modalRef.hide()">Close</button>
									</div>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
	
		</div>
	</ng-template>

<ng-template #myPipCompletionModal>
	<div
		class="m-portlet m-portlet--warning m-portlet--head-solid-bg m-portlet--head-sm  m-portlet--full-height mtrDetailsPortlet">
		<div class="m-portlet__head">
			<div class="m-portlet__head-caption">
				<div class="m-portlet__head-title">
					<h3 class="m-portlet__head-text">
						PIP Agenda
					</h3>
				</div>
			</div>
			<div class="m-portlet__head-tools">
				<ul class="m-portlet__nav">
					<li class="m-portlet__nav-item">
						<div class="btn-group" role="group" aria-label="Button group with nested dropdown">
							<div class="btn-group" role="group">
								<button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
									<span aria-hidden="true">&times;</span>
								</button>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>

		<div class="m-portlet__body">
			<form class="m-form m-form--fit m-form--label-align-right" (ngSubmit)="saveComments(pipData)"
				id="PipDataForm" #PipDataForm="ngForm">
				<div class="m-widget6 ">
					<div class="row">
						<div class="col-md-6">
							<span><b>PIP Agenda Completion Information</b></span>
						</div>

					</div>
					<div class="row details">
						<div class="col-md-2">
							<span>Employee Comments</span>
						</div>
						<div class="col-md-10">
							<textarea name="empcom" id="empcom" [(ngModel)]="pipData.emp_final_com" #empcom="ngModel"
								class="form-control m-input m-input--air" required></textarea>
							<div class="form-control-feedback has-danger" *ngIf="PipDataForm.submitted && empcom.invalid">
								This field is required.
							</div>
						</div>

						<div class="col-md-2 details">
							<span>Supervisor Comments</span>
						</div>
						<div class="col-md-10 details">
							<textarea name="sup_final_com" id="sup_final_com"
								[(ngModel)]="pipData.sup_final_com" #supcom="ngModel"
								class="form-control m-input m-input--air" required disabled></textarea>
						</div>
						<div class="col-md-2 details">
							<span>Reviewer Comments</span>
						</div>
						<div class="col-md-10 details">
							<textarea name="rev_final_com" id="rev_final_com"
								[(ngModel)]="pipData.rev_final_com" #revcom="ngModel"
								class="form-control m-input m-input--air" required disabled></textarea>
						</div>
						<div class="col-md-2 details">
							<span>HR Comments</span>
						</div>
						<div class="col-md-10 details">
							<textarea name="hr_final_com" id="hr_final_com"
								[(ngModel)]="pipData.hr_final_com" #hrcom="ngModel"
								class="form-control m-input m-input--air" required disabled></textarea>
						</div>

						<div class="col-md-6 details">
							<span>Action Taken</span>
							<ng-select class="m-input m-input--air customError" name="final_recommendation{{i}}"
								id="final_recommendation" [items]="finalRecommendation" bindLabel="final_recommendation"
								bindValue="_id" placeholder="Action Taken"
								[(ngModel)]="pipData.final_recommendation" [clearable]="false"
								#final_recommendation="ngModel" disabled>
							</ng-select>
						</div>

					</div>
					<div class="form-actions details">
						<div class="row">
							<div class="col-md-12">
								<div class="m-form__actions">
									<button class="btn btn-success submitForm" type="submit" id="submitFormPostPip">Save</button>
									<button class="btn btn-secondary" type="button" (click)="modalRef.hide()">Close</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</form>
		</div>
	</div>
</ng-template>