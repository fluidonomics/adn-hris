<!-- BEGIN: Subheader -->
<div class="m-subheader">
		<div class="d-flex align-items-center">
			<div class="mr-auto">
				<h3 class="m-subheader__title">
					Dashboard
				</h3>
				
			</div>
			<div class="col-md-2 applyLeaveBtn text-center">
					<button class="btn btn-success" (click)="gotoPostLeave()">
						<i class="fa fa-plus"></i> Post Leave</button>
			</div>
			<!-- <div>
				<span class="m-subheader__daterange" id="m_dashboard_daterangepicker">
					<span class="m-subheader__daterange-label">
						<span class="m-subheader__daterange-title"></span>
						<span class="m-subheader__daterange-date m--font-brand"></span>
					</span>
					<a href="#" class="btn btn-sm btn-brand m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill">
						<i class="la la-angle-down"></i>
					</a>
				</span>
			</div> -->
		</div>
</div>

<!-- END: Subheader -->
<div class="m-content">
		<!--Begin::Main Portlet-->
		<div class="row">
			
			<!-- <div class="col-xl-4" >
				
				<div class="m-portlet m-portlet--bordered-semi m-portlet--full-height" id="stats-loader">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">
									Stats
								</h3>
							</div>
						</div>
						<div class="m-portlet__head-tools">
							<ul class="m-portlet__nav">
								<li class="m-portlet__nav-item m-portlet__nav-item--last m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover">
									<a class="m-portlet__nav-link m-portlet__nav-link--icon m-portlet__nav-link--icon-xl" href="#" ng-reflect-href="#">
										<i class="fa fa-genderless m--font-brand"></i>
									</a>
									<div class="m-dropdown__wrapper">
										<span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
										<div class="m-dropdown__inner">
											<div class="m-dropdown__body">
												<div class="m-dropdown__content">
													<ul class="m-nav">
														<li class="m-nav__section m-nav__section--first">
															<span class="m-nav__section-text">
																Quick Actions
															</span>
														</li>
														
														<li class="m-nav__separator m-nav__separator--fit"></li>
														<li class="m-nav__item">
															<a class="btn btn-outline-success m-btn m-btn--pill m-btn--wide btn-sm" (click)="downloadProfileCsv();">
																Export to Excel
															</a>
														</li>
													</ul>
												</div>
											</div>
										</div>
									</div>
								</li>
							</ul>
						</div>
					</div>
					<div class="m-portlet__body" >
						<div class="m-widget15">
							<div class="m-widget15__chart" style="height:180px;"><div class="chartjs-size-monitor" style="position: absolute; left: 0px; top: 0px; right: 0px; bottom: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
								<canvas id="m_chart_sales_stats" width="772" height="180" class="chartjs-render-monitor" style="display: block; height: 180px; width: 772px;"></canvas>
							</div>
							<div class="m-widget15__items"  >
								<div class="row">
									<div class="col">
										<div class="m-widget15__item">
											<span class="m-widget15__stats" *ngIf="employeesData?.length">
												{{calculatePercentage(true)}}
											</span>
											<span class="m-widget15__text">
											 Active
											</span>
											<div class="m--space-10"></div>
											<div class="progress m-progress--sm">
												<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar bg-brand" role="progressbar" [style.width]="profileStatusPercentage?.isAccountActive"></div>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col">
										<div class="m-widget15__item">
											<span class="m-widget15__stats" *ngIf="employeesData?.length">
												{{calculatePercentage('Submitted','employeeStatus')}}
											</span>
											<span class="m-widget15__text">
													Personal Profile
											</span>
											<div class="m--space-10"></div>
											<div class="progress m-progress--sm">
												<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar bg-warning" role="progressbar" [style.width]="profileStatusPercentage?.employeeStatusSubmitted"></div>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col">
										<div class="m-widget15__item">
											<span class="m-widget15__stats" *ngIf="employeesData?.length">
													{{calculatePercentage('Submitted','hrStatus')}}
											</span>
											<span class="m-widget15__text">
													Office Profile
											</span>
											<div class="m--space-10"></div>
											<div class="progress m-progress--sm">
												<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar bg-primary" role="progressbar" [style.width]="profileStatusPercentage?.hrStatusSubmitted" ></div>
											</div>
										</div>
									</div>
								</div>
								<div class="row">
									<div class="col">
										<div class="m-widget15__item">
											<span class="m-widget15__stats" *ngIf="employeesData?.length">
													{{calculatePercentage('Approved','supervisorStatus')}}
											</span>
											<span class="m-widget15__text">
													Profile Approved
											</span>
											<div class="m--space-10"></div>
											<div class="progress m-progress--sm">
												<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" class="progress-bar bg-success" role="progressbar" [style.width]="profileStatusPercentage?.supervisorStatusApproved"></div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				
			</div> -->

			<div class="col-xl-4">
				<div class="m-portlet m-portlet--warning m-portlet--head-solid-bg m-portlet--head-sm m-portlet--full-height">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">
									Dashboards
								</h3>
							</div>
						</div>
						<div class="m-portlet__head-tools">
							<ul class="m-portlet__nav">
									<li class="m-portlet__nav-item">
											<div class="btn-group" role="group" aria-label="Button group with nested dropdown">
												<div class="btn-group" role="group">
													<button id="btnGroupDrop1" type="button" class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
														aria-expanded="false">
														{{transactionFilter.status}}
													</button>
													<div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
														<a class="dropdown-item" href="#" *ngFor="let status of leaveStatuses" (click)="transactionFilter.status = status; getTransactions();">
															{{status}}
														</a>
													</div>
												</div>
											</div>
										</li>
							</ul>
						</div>
					</div>
					<div class="m-portlet__body">
						<div class="hrtoemprat" *ngIf="transactionFilter.status=='HR-Emp Ratio'">
							<p><font size="3">Total no of employee : {{empCount}}</font></p>
							<p><font size="3">Total no of hr : {{hrCount}}</font></p>
							<div>
								<span class="centerP">
									<p style="font-size: 80px; color: #a9a1a1">{{hrToEmpratio}}</p>
									<p><font size="5">Ratio of hr to employee </font></p>
								</span>
							</div>
						</div>
						<div class="hrtoemprat" *ngIf="transactionFilter.status=='Supervisor Role %'">
								<p><font size="3">Total no of employee : {{empCount}}</font></p>
								<p><font size="3">Total no of Supervisor : {{hrCount}}</font></p>
								<div>
									<span class="centerP">
										<p style="font-size: 80px; color: #a9a1a1 !important">{{percentageOfSupervisor}}</p>
										<p><font size="5">Supervisor to employee ratio</font></p>
									</span>
								</div>
						</div>
						<div class="hrtoemprat" *ngIf="transactionFilter.status=='Span Of Control'">
								<p><font size="3">Total no of employee : {{empCount}}</font></p>
								<p><font size="3">Employee with management role : {{managementEmpCount}}</font></p>
								<div>
									<span class="centerP">
										<p style="font-size: 80px; color: #a9a1a1 !important">{{managementEmpRatio}}</p>
										<p><font size="5">Span of control ratio</font></p>
									</span>
								</div>
						</div>
					</div>
				</div>
			</div>
			<!-- <div class="col-xl-4">
				<div class="m-portlet m-portlet--bordered-semi m-portlet--full-height">
					<div class="m-portlet__head">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">
									Company News
								</h3>
							</div>
						</div>
						<div class="m-portlet__head-tools">
							<ul class="m-portlet__nav">
								<li class="m-portlet__nav-item m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" data-dropdown-toggle="hover" aria-expanded="true">
									<a class="m-portlet__nav-link m-dropdown__toggle dropdown-toggle btn btn--sm m-btn--pill btn-secondary m-btn m-btn--label-brand" href="#" ng-reflect-href="#">
										All
									</a>
									<div class="m-dropdown__wrapper">
										<span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust" style="left: auto; right: 45px;"></span>
										<div class="m-dropdown__inner">
											<div class="m-dropdown__body">
												<div class="m-dropdown__content">
													<ul class="m-nav">
														<li class="m-nav__section m-nav__section--first">
															<span class="m-nav__section-text">
																Quick Actions
															</span>
														</li>
														<li class="m-nav__item">
															<a class="m-nav__link" href="" ng-reflect-href="">
																<i class="m-nav__link-icon flaticon-share"></i>
																<span class="m-nav__link-text">
																	Leaves
																</span>
															</a>
														</li>
														<li class="m-nav__item">
															<a class="m-nav__link" href="" ng-reflect-href="">
																<i class="m-nav__link-icon flaticon-chat-1"></i>
																<span class="m-nav__link-text">
																	KRA
																</span>
															</a>
														</li>
														<li class="m-nav__item">
															<a class="m-nav__link" href="" ng-reflect-href="">
																<i class="m-nav__link-icon flaticon-info"></i>
																<span class="m-nav__link-text">
																	Learning
																</span>
															</a>
														</li>
														
														<li class="m-nav__separator m-nav__separator--fit"></li>
														<li class="m-nav__item">
															<a class="btn btn-outline-danger m-btn m-btn--pill m-btn--wide btn-sm" href="#" ng-reflect-href="#">
																Cancel
															</a>
														</li>
													</ul>
												</div>
											</div>
										</div>
									</div>
								</li>
							</ul>
						</div>
					</div>
					<div class="m-portlet__body">
						<div class="m-widget4">
							<div class="m-widget4__item">
								<div class="m-widget4__img m-widget4__img--logo">
									<img alt="" src="">
								</div>
								<div class="m-widget4__info">
									<span class="m-widget4__title">
										Salman Khan is the new Brand Ambassador
									</span>
									<br>
									<span class="m-widget4__sub">
										29-Sep-2018, 10:15AM
									</span>
								</div>
								<span class="m-widget4__ext">
									<span class="m-widget4__number m--font-brand">
										+$2500
									</span>
								</span>
							</div>
							<div class="m-widget4__item">
								<div class="m-widget4__img m-widget4__img--logo">
									<img alt="" src="">
								</div>
								<div class="m-widget4__info">
									<span class="m-widget4__title">
										Annual Function Announced
									</span>
									<br>
									<span class="m-widget4__sub">
										20-April-2018, 10:15AM
									</span>
								</div>
								<span class="m-widget4__ext">
									<span class="m-widget4__number m--font-brand">
										-$290
									</span>
								</span>
							</div>
							<div class="m-widget4__item">
								<div class="m-widget4__img m-widget4__img--logo">
									<img alt="" src="">
								</div>
								<div class="m-widget4__info">
									<span class="m-widget4__title">
										Financial Year ending soon.
									</span>
									<br>
									<span class="m-widget4__sub">
										15-June-2018, 10:15AM
									</span>
								</div>
								<span class="m-widget4__ext">
									<span class="m-widget4__number m--font-brand">
										+$17
									</span>
								</span>
							</div>
							<div class="m-widget4__item">
								<div class="m-widget4__img m-widget4__img--logo">
									<img alt="" src="">
								</div>
								<div class="m-widget4__info">
									<span class="m-widget4__title">
										CSR Training
									</span>
									<br>
									<span class="m-widget4__sub">
										29-Jan-2018, 10:15AM
									</span>
								</div>
								<span class="m-widget4__ext">
									<span class="m-widget4__number m--font-brand">
										-$2.50
									</span>
								</span>
							</div>
							<div class="m-widget4__item">
								<div class="m-widget4__img m-widget4__img--logo">
									<img alt="" src="">
								</div>
								<div class="m-widget4__info">
									<span class="m-widget4__title">
										Fibre Optic Network Launched
									</span>
									<br>
									<span class="m-widget4__sub">
										15-Dec-2018, 12:15AM
									</span>
								</div>
								<span class="m-widget4__ext">
									<span class="m-widget4__number m--font-brand">
										+$200
									</span>
								</span>
							</div>
						</div>
					</div>
				</div>	
			</div> -->
		</div>
		<!--End::Main Portlet-->  <!--Begin::Main Portlet-->
		
</div>

<div #allEmoloyee hidden>
    <table >
            <thead class="m-datatable__head">
                    <tr class="m-datatable__row">
                        <th>
                            <span>EMPLOYEE ID</span>
                        </th>
                        <th>
                            <span>NAME</span>
                        </th>
                        <th>
                            <span>ACTIVE</span>
                        </th>
                        <th>
                            <span>PERSONAL PROFILE</span>
                        </th>
                        <th>
                            <span>OFFICE PROFILE</span>
                        </th>
                        <th>
                            <span>PROFILE</span>
                        </th>
                    </tr>
            </thead>
            <tbody>
            <tr *ngFor="let employee of employeesData">
                    <td>
                        <span>{{employee.userName}}</span>
                    </td>
                    <td>
                        <span>{{employee.fullName}}</span>
                    </td>
                    <td>
                        <span>{{employee.isAccountActive}}</span>
                    </td>
                    <td>
                        <span>{{employee.profileProcessDetails?.employeeStatus}}</span>
                    </td>
                    <td>
                        <span>{{employee.profileProcessDetails?.hrStatus}}</span>
                    </td>
                    <td>
                        <span>{{employee.profileProcessDetails?.supervisorStatus}}</span>
                    </td>
            </tr>
            </tbody>
    </table>
</div>
	